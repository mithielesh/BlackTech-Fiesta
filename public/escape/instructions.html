<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <title>Instructions</title>
</head>
<body>
    <header>
        <h1>IT Fiesta Escape Room - Instructions</h1>
    </header>
    <main>
        <section>
            <h2>Welcome!</h2>
            <p>You are about to enter the IT Fiesta Escape Room challenge. Test your skills across 3 levels and compete with other teams to reach the top!</p>

            <h3>üéØ Game Rules</h3>
            <ul style="color: var(--text); padding-left: 20px; line-height: 1.8;">
                <li><strong>3 Levels Total:</strong> Each level has unique challenges and a strict time limit.</li>
                <li><strong>One Device Per Team:</strong> Only one mobile device per team is allowed.</li>
                <li><strong>No Tab Switching:</strong> Switching browser tabs will immediately eliminate your team. Stay focused!</li>
                <li><strong>No Back Button:</strong> Using the browser back button will eliminate your team.</li>
                <li><strong>Elimination After Each Level:</strong> The team(s) with the lowest score after each level will be eliminated.</li>
                <li><strong>If Time Expires:</strong> Your inputs freeze. Score is calculated based on your answers up to that point.</li>
            </ul>

            <h3>üìã Level Details</h3>
            
            <div style="background: rgba(109, 40, 217, 0.1); padding: 12px; border-radius: 8px; margin: 12px 0;">
                <h4 style="color: #6d28d9;">Level 1: MCQ Round</h4>
                <p><strong>Duration:</strong> 6 minutes</p>
                <p><strong>Format:</strong> 6 multiple-choice questions</p>
                <p><strong>Rules:</strong> You must select an option before proceeding to the next question. Each question is of equal difficulty.</p>
                <p><strong>Scoring:</strong> 1 point per correct answer. Total: 6 points.</p>
            </div>

            <div style="background: rgba(37, 99, 235, 0.1); padding: 12px; border-radius: 8px; margin: 12px 0;">
                <h4 style="color: #2563eb;">Level 2: Puzzle Challenge</h4>
                <p><strong>Duration:</strong> 5 minutes</p>
                <p><strong>Format:</strong> Drag-and-drop puzzle or text-based challenge</p>
                <p><strong>Rules:</strong> One attempt only. You cannot re-attempt once submitted.</p>
                <p><strong>Scoring:</strong> 1 point for correct solution, 0 points for incorrect.</p>
            </div>

            <div style="background: rgba(16, 185, 129, 0.1); padding: 12px; border-radius: 8px; margin: 12px 0;">
                <h4 style="color: #2563eb;">Level 3: Final Riddle</h4>
                <p><strong>Duration:</strong> 3 minutes</p>
                <p><strong>Format:</strong> Solve a complex riddle</p>
                <p><strong>Rules:</strong> This is the final level. Getting it right wins the challenge!</p>
                <p><strong>Scoring:</strong> 1 point for correct answer ‚Üí WINNER! 0 points ‚Üí Eliminated.</p>
            </div>

            <h3>‚ö†Ô∏è Safety & Fairness</h3>
            <ul style="color: var(--text); padding-left: 20px; line-height: 1.8;">
                <li>Tab switching = Instant elimination (enforced by the system)</li>
                <li>Back button press = Instant elimination (enforced by the system)</li>
                <li>Timer expires = Inputs freeze (no more changes allowed)</li>
                <li>All timings are server-based for fairness</li>
                <li>Scores are final once submitted</li>
            </ul>

            <h3>üöÄ How to Play</h3>
            <ol style="color: var(--text); padding-left: 20px; line-height: 1.8;">
                <li>Click <strong>"Start Level 1"</strong> below</li>
                <li>Read each question carefully</li>
                <li>Select your answers and advance through the level</li>
                <li>Submit when complete</li>
                <li>Wait on the result page for admin to manage eliminations</li>
                <li>If you survive, you'll be directed to the next level</li>
                <li>Repeat for all 3 levels</li>
            </ol>

            <h3>üí° Pro Tips</h3>
            <ul style="color: var(--text); padding-left: 20px; line-height: 1.8;">
                <li>Read each question twice before answering</li>
                <li>Don't rush‚Äîyou have time, use it wisely</li>
                <li>Keep your device on full brightness for visibility</li>
                <li>Stay in one tab throughout the game</li>
                <li>Ask the organizers if you need clarification (before you start a level)</li>
            </ul>

            <a id="startLevelBtn" href="levels/level1.html" class="start-button">Start Level 1</a>
        </section>
    </main>
    <footer>
        <p>&copy; 2026 IT Fiesta</p>
    </footer>
    <script>
      (function(){
        try {
          var params = new URLSearchParams(window.location.search || '');
          var levelParam = Number(params.get('level') || sessionStorage.getItem('pendingLevel') || sessionStorage.getItem('currentLevel') || 1);
          if (!Number.isFinite(levelParam) || levelParam < 1) levelParam = 1;
          if (levelParam > 5) levelParam = 5;

          var btn = document.getElementById('startLevelBtn');
          if (btn) {
            btn.href = 'levels/level' + levelParam + '.html';
            btn.textContent = 'Start Level ' + levelParam;
          }
        } catch (e) { console.warn(e); }
      })();
    </script>
    <script src="assets/js/common.js"></script>
</body>
</html>
